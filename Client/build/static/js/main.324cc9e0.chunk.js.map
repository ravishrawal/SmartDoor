{"version":3,"sources":["latchlock.jpg","OTPInputForm.jsx","NewVisitorForm.jsx","App.js","reportWebVitals.js","index.js"],"names":["OTPInputForm","handleKeydown","e","setState","passcode","target","value","submitHandler","preventDefault","state","console","log","axios","post","faceid","then","res","data","body","passcode_validation","visitor_name","submitted","bind","this","props","location","search","slice","split","src","lockimg","height","onSubmit","className","style","margin","maxWidth","verticalAlign","padding","id","name","onChange","placeholder","onClick","Component","NewVisitorForm","visitor_phone","approval_status","phone_number","handleReject","params","photo_url","width","length","disabled","App","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.324cc9e0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/latchlock.b592f035.jpg\";","import React, {Component} from 'react'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport lockimg from './latchlock.jpg'\n\n\nclass OTPInputForm extends Component {\n  constructor(){\n    super()\n    this.state = {\n      passcode: null,\n      submitted: false,\n      faceid:null,\n      passcode_validation:false,\n      visitor_name:null\n    }\n    this.submitHandler = this.submitHandler.bind(this)\n    this.handleKeydown = this.handleKeydown.bind(this)\n  }\n  componentDidMount() {\n      console.log('Input Form Mounted!')\n  }\n  handleKeydown = (e) => {\n    //set passcode\n    this.setState({ passcode: e.target.value })\n  } \n  submitHandler = (e) => {\n    e.preventDefault()\n    const passcode = this.state.passcode\n    console.log('passcode', passcode)\n\n    //send passcode\n    axios.post(`https://f3gii3hkr3.execute-api.us-east-1.amazonaws.com/Dev/passcodes`, { passcode, faceid: this.state.faceid })\n        .then((res)=>{\n          console.log(res.data)\n          const { passcode_validation, visitor_name } = res.data.body\n          this.setState({ submitted: true,  passcode_validation, visitor_name})\n        })\n  }\n  render(){\n    const faceid = this.props.location.search.slice(1).split('=')[1]\n    this.state.faceid = faceid\n    return (\n      <div>\n        <img src={lockimg} height=\"400px\"/>\n        { this.state.submitted === false &&\n              (\n              <form onSubmit={this.submitHandler}>\n                <div className=\"container\" style={{ margin: \"auto\", maxWidth: \"250px\", verticalAlign:\"middle\"}}>\n                  <div style={{ padding:\"10px\" }}>\n                    <label className=\"p-2\">Enter OTP:</label>\n                    <input id=\"passcode\" name=\"passcode\" className=\"form-control p-2\" onChange={this.handleKeydown} placeholder=\"Enter OTP\" />\n                  </div>\n                  <div className=\"form-group p-2\">\n                    <button className='btn btn-primary submitButton' onClick={this.submitHandler} >\n                    Submit\n                    </button>\n                  </div>\n                </div>\n              </form>\n              )\n        }\n        { this.state.submitted === true && this.state.passcode_validation === true &&\n          (\n            <div>\n              <h3>Door Unlocked, Welcome {this.state.visitor_name}</h3>\n            </div>\n          )\n        }\n        { this.state.submitted === true && this.state.passcode_validation === false &&\n          (\n            <div>\n              <h3>Invalid Passcode, {this.state.visitor_name} </h3>\n              <em>Try Again Or Request A New One</em>\n              <button className='btn btn-danger' \n              onClick={ ()=> this.setState({submitted:false}) }>\n              Try Again</button>\n            </div>\n          )\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default OTPInputForm;\n","import React, {Component} from 'react'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\n\n\nclass NewVisitorForm extends Component {\n  constructor(){\n    super()\n    this.state = {\n      submitted: false,\n      faceid:null,\n      visitor_name:null,\n      visitor_phone:null,\n      approval_status: null,\n    }\n    this.submitHandler = this.submitHandler.bind(this)\n    this.handleKeydown = this.handleKeydown.bind(this)\n    this.handleReject = this.handleReject.bind(this)\n  }\n  componentDidMount() {\n      console.log('Input Form Mounted!')\n  }\n  handleKeydown = (e) => {\n    let { name, value} = e.target\n    //Update name\n    if(name==='visitor_name'){\n      this.setState({ visitor_name: value }, ()=>console.log(this.state))\n    }\n    //Update Phone\n    else if(name==='visitor_phone'){\n      this.setState({ visitor_phone: value }, ()=>console.log(this.state))\n    }\n  } \n  submitHandler = (e) => {\n    e.preventDefault()\n    //send info\n    this.state.approval_status = \"approved\"\n    var {faceid, visitor_name, visitor_phone, approval_status} = this.state\n    axios.post('https://f3gii3hkr3.execute-api.us-east-1.amazonaws.com/Dev/visitors',\n      {\n        faceid,\n        approval_status,\n        visitor_name,\n        phone_number: visitor_phone\n      }\n    ).then( ()=> this.setState({submitted:true}) )\n  }\n  handleReject = (e) => {\n      e.preventDefault()\n      //send rejection\n      this.state.approval_status = \"denied\"\n      var {approval_status, faceid} = this.state\n      axios.post('https://f3gii3hkr3.execute-api.us-east-1.amazonaws.com/Dev/visitors',\n      {\n        faceid,\n        approval_status,\n      }\n    ).then( ()=> this.setState({submitted:true}) )\n  }\n  render(){\n    const params = this.props.location.search.slice(1).split(/[=&]/)\n    const faceid = params[1]\n    const photo_url = params[3]\n    this.state.faceid = faceid\n    let {visitor_name, visitor_phone, submitted, approval_status} = this.state\n    return (\n      <div>\n        <img src={photo_url} width=\"400\" />\n        { submitted === false &&\n              (\n              <form onSubmit={this.submitHandler}>\n                <div className=\"form-group\">\n                  <label>Visitor Name</label>\n                  <input id=\"name\" name=\"visitor_name\" className=\"form-control\" onChange={this.handleKeydown} placeholder=\"Enter Full Name\" style={{margin:\"auto\"}}/>\n                </div>\n                <div className=\"form-group\">\n                  <label>Visitor Phone Number</label>\n                  <input id=\"phone\" name=\"visitor_phone\" className=\"form-control\" onChange={this.handleKeydown} placeholder=\"Enter Phone Number\"/>\n                </div>\n                <div className=\"form-group\">\n                  { (visitor_name && visitor_name.length>6) && (visitor_phone && visitor_phone.length>=10) &&\n                    (\n                      <button className='btn btn-success' onClick={this.submitHandler}>\n                        Approve Visitor & Submit\n                      </button>\n                    )\n                  }\n                  { ((!visitor_name || visitor_name.length<6) || (!visitor_phone || visitor_phone.length<10)) &&\n                    (\n                      <div>\n                        <button className='btn btn-dark' disabled>\n                          Approve Visitor & Submit\n                        </button>\n                        <label>Input Length Too Short</label>\n                      </div>\n                    )\n                  }\n                  <div>\n                    <button className='btn btn-danger' onClick={this.handleReject}>Reject Visitor</button>\n                  </div>\n                </div>\n              </form>\n              )\n        }\n        { submitted === true && approval_status === 'approved' &&\n          (\n            <div>\n              <h3>Successfully Created Visitor & Sent OTP!</h3>\n            </div>\n          )\n        }\n        { submitted === true && approval_status === 'denied' &&\n          (\n            <div>\n              <h3>Rejected User</h3>\n            </div>\n          )\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default NewVisitorForm;\n","import './App.css';\nimport OTPInputForm from './OTPInputForm'\nimport NewVisitorForm from './NewVisitorForm'\nimport React, {Component} from 'react'\nimport {Route, BrowserRouter} from 'react-router-dom'\n\n\nclass App extends Component {\n  \n  componentDidMount() {\n      console.log('Mounted!')\n  }\n  render(){\n    console.log(this.props)\n    return (\n      <div className=\"App\" >\n        <header className=\"App-header\">\n        </header>\n        <BrowserRouter>\n          <Route path=\"/passcode\" component={OTPInputForm} />\n          <Route path=\"/visitors/new\" component={NewVisitorForm} />\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}